<?xml version="1.0"?>
<odoo>
    <record id="ir_filters_view_form_user" model="ir.ui.view">
        <field name="name">ir.filters.form</field>
        <field name="model">ir.filters</field>
        <field name="priority">17</field>
        <field name="arch" type="xml">
            <form string="Filters">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                            <field name="active" widget="boolean_button" options='{"terminology": "archive"}' />
                        </button>
                    </div>
                    <group>
                        <field name="name" />
                        <field name="model_id" />
                    </group>
                    <group>
                        <field name="domain" widget="char_domain" options="{'model_field': 'model_id'}" placeholder="Select domain" readonly="0" />
                    </group>
                    <notebook>
                        <page string="Advanced" name="advanced">
                            <div class="alert alert-info">
                                <ul>
                                    <li><strong>user_id:</strong> defines who can use the filter</li>
                                    <li><strong>action_id:</strong> defines where the filter is visible</li>
                                </ul>
                            </div>
                            <group>
                                <field name="user_id" />
                                <field name="action_id" />
                                <field name="is_default" />
                                <field name="context" groups="base.group_no_one"/>
                                <field name="sort" groups="base.group_no_one"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="ir_filters_view_tree_user" model="ir.ui.view">
        <field name="name">ir.filters.tree</field>
        <field name="model">ir.filters</field>
        <field name="arch" type="xml">
            <tree string="Filters">
                <field name="name" />
                <field name="model_id" />
                <field name="user_id" />
                <field name="is_default" />
                <field name="action_id" />
                <field name="domain" groups="base.group_no_one" />
            </tree>
        </field>
    </record>
    <record id="ir_filters_view_form_default_search" model="ir.ui.view">
        <field name="model">ir.filters</field>
        <field name="inherit_id" ref="base.ir_filters_view_search" />
        <field name="arch" type="xml">
            <filter name="user" position="before">
                <filter name="not_archived" string="Not Archived" domain="[('active', '=', True)]"/>
                <filter name="archived" string="Archived" domain="[('active', '=', False)]"/>
                <separator/>
            </filter>
            <filter name="user" position="after">
                <filter string="Partner Model" domain="[('model_id','=','res.partner')]" name="partner_model" />
            </filter>
        </field>
    </record>
    <record id="actions_ir_filters_view_default_model_partner" model="ir.actions.act_window">
        <field name="name">Filters</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">ir.filters</field>
        <field name="context">{"search_default_partner_model":1}</field>
    </record>
    <record id="action_ir_filters__user_tree" model="ir.actions.act_window.view">
        <field eval="1" name="sequence" />
        <field name="view_mode">tree</field>
        <field name="view_id" ref="ir_filters_view_tree_user" />
        <field name="act_window_id" ref="actions_ir_filters_view_default_model_partner" />
    </record>
    <record id="action_ir_filters__user_from" model="ir.actions.act_window.view">
        <field eval="2" name="sequence" />
        <field name="view_mode">form</field>
        <field name="view_id" ref="ir_filters_view_form_user" />
        <field name="act_window_id" ref="actions_ir_filters_view_default_model_partner" />
    </record>
    <menuitem name="Segmentation" id="menu_manage_filters" action="actions_ir_filters_view_default_model_partner" sequence="4" web_icon="web_manage_filters,static/description/icon.png" groups="base.group_user,base.group_partner_manager" />
    
</odoo>
